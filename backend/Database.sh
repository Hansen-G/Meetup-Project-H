CREATE TABLE `SequelizeMeta` (`name` VARCHAR(255) NOT NULL UNIQUE PRIMARY KEY);
CREATE TABLE `Users` (`id` INTEGER PRIMARY KEY AUTOINCREMENT, `username` VARCHAR(30) NOT NULL UNIQUE, `firstName` VARCHAR(56) NOT NULL, `lastName` VARCHAR(56) NOT NULL, `email` VARCHAR(256) NOT NULL UNIQUE, `hashedPassword` VARCHAR BINARY(255) NOT NULL, `createdAt` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP, `updatedAt` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP);
CREATE TABLE sqlite_sequence(name,seq);
CREATE TABLE `Venues` (`id` INTEGER PRIMARY KEY AUTOINCREMENT, `address` VARCHAR(255), `city` VARCHAR(255), `state` VARCHAR(255), `latitude` FLOAT, `longitude` FLOAT, `createdAt` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP, `updatedAt` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP);
CREATE TABLE `Groups` (`id` INTEGER PRIMARY KEY AUTOINCREMENT, `organizerId` INTEGER NOT NULL REFERENCES `Users` (`id`) ON DELETE CASCADE, `name` VARCHAR(255) NOT NULL UNIQUE, `about` VARCHAR(255), `type` VARCHAR(255) NOT NULL, `private` TINYINT(1) NOT NULL, `city` VARCHAR(255), `state` VARCHAR(255), `numMembers` INTEGER, `previewImage` VARCHAR(255), `createdAt` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP, `updatedAt` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP);
CREATE TABLE `Events` (`id` INTEGER PRIMARY KEY AUTOINCREMENT, `groupId` INTEGER NOT NULL REFERENCES `Groups` (`id`) ON DELETE CASCADE, `venueId` INTEGER NOT NULL REFERENCES `Venues` (`id`) ON DELETE CASCADE, `name` VARCHAR(255) NOT NULL UNIQUE, `type` VARCHAR(255) NOT NULL, `description` VARCHAR(255), `startDate` DATETIME NOT NULL, `endDate` DATETIME NOT NULL, `price` FLOAT NOT NULL, `capacity` INTEGER NOT NULL, `numAttending` INTEGER NOT NULL, `previewImage` VARCHAR(255), `createdAt` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP, `updatedAt` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP);

CREATE TABLE `GroupMembers` (`id` INTEGER PRIMARY KEY AUTOINCREMENT, `userId` INTEGER NOT NULL REFERENCES `Users` (`id`) ON DELETE CASCADE, `groupId` INTEGER NOT NULL REFERENCES `Groups` (`id`) ON DELETE CASCADE, `memberStatus` VARCHAR(255), `createdAt` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP, `updatedAt` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP);
CREATE TABLE `EventAttendees` (`id` INTEGER PRIMARY KEY AUTOINCREMENT, `eventId` INTEGER NOT NULL REFERENCES `Events` (`id`) ON DELETE CASCADE, `userId` INTEGER NOT NULL REFERENCES `Users` (`id`) ON DELETE CASCADE, `attendeeStatus` VARCHAR(255), `createdAt` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP, `updatedAt` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP);
CREATE TABLE `Images` (`id` INTEGER PRIMARY KEY AUTOINCREMENT, `eventId` INTEGER REFERENCES `Events` (`id`) ON DELETE CASCADE, `groupId` INTEGER REFERENCES `Groups` (`id`) ON DELETE CASCADE, `url` VARCHAR(255) NOT NULL, `createdAt` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP, `updatedAt` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP);
CREATE TABLE `SequelizeData` (`name` VARCHAR(255) NOT NULL UNIQUE PRIMARY KEY);
